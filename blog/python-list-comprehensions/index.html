<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Python List&nbsp;Comprehensions!</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="../.." rel="canonical" />
  <link href="../../theme/css/colorbox.css" rel="stylesheet">
  <!-- Feed -->

  <link href="../../theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
  <link href="../../theme/css/pygments/paraiso-dark.min.css" rel="stylesheet">

    <!-- CSS specified by the user -->
		<link href="../../theme/css/custom.css" type="text/css" rel="stylesheet" />

  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


  <link href="../../blog/python-list-comprehensions/" rel="canonical" />

    <meta name="description" content="What’s up everybody! In this post I am going to show you an interesting tip which I rarely see young Pythonistas use, it’s List...">

    <meta name="author" content="Adham Elmosalamy">

    <meta name="tags" content="python">
    <meta name="tags" content="tips">




<!-- Open Graph -->
<meta property="og:site_name" content="Adham Elmosalamy"/>
<meta property="og:title" content="Python List Comprehensions!"/>
<meta property="og:description" content="What’s up everybody! In this post I am going to show you an interesting tip which I rarely see young Pythonistas use, it’s List..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="../../blog/python-list-comprehensions/"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-01-07 08:58:00+01:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="../../author/adham-elmosalamy.html">
<meta property="article:section" content="posts"/>
<meta property="article:tag" content="python"/>
<meta property="article:tag" content="tips"/>
<meta property="og:image" content="../..//images/covers/post-bg.jpg">

<!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@aelmosalamy_">
    <meta name="twitter:title" content="Python List&nbsp;Comprehensions!">
    <meta name="twitter:url" content="../../blog/python-list-comprehensions/">

        <meta name="twitter:image:src" content="../..//images/covers/post-bg.jpg">

      <meta name="twitter:description" content="What’s up everybody! In this post I am going to show you an interesting tip which I rarely see young Pythonistas use, it’s List...">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Python List Comprehensions!",
  "headline": "Python List Comprehensions!",
  "datePublished": "2019-01-07 08:58:00+01:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Adham Elmosalamy",
    "url": "../../author/adham-elmosalamy.html"
  },
  "image": "../..//images/covers/post-bg.jpg",
  "url": "../../blog/python-list-comprehensions/",
  "description": "What’s up everybody! In this post I am going to show you an interesting tip which I rarely see young Pythonistas use, it’s List..."
}
</script>
      <meta property="og:locale" content="" />
    <meta property="og:site_name" content="Adham Elmosalamy" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Adham Elmosalamy" />
    <meta property="og:description" content="Welcome to the blog!" />
    <meta property="og:url" content="../.." />
      <meta property="og:image" content="../..//images/covers/home-bg.jpg" />
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:site" content="@aelmosalamy_">
      <meta name="twitter:title" content="Adham Elmosalamy">
      <meta name="twitter:description" content="Welcome to the blog!">
      <meta name="twitter:url" content="../..">
          <meta name="twitter:image:src" content="../..//images/covers/home-bg.jpg">
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="../../pages/about-me/">About&nbsp;Me</a></li>
              <li role="presentation"><a href="../../pages/gallery/">Gallery</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="blog-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="../../" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Python List&nbsp;Comprehensions!</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="../../author/adham-elmosalamy.html">Adham Elmosalamy</a>
            | <time datetime="Mon 07 January 2019">Mon 07 January 2019</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-image: url('../..//images/covers/post-bg.jpg')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>What’s up everybody! In this post I am going to show you an interesting tip which I rarely see young Pythonistas use, it’s <strong>List Comprehensions</strong>. If you dabbled a little with Python you probably had some problems where you had to iterate over a list and perform functions to its elements on-the-run, I know. I make no sense. To clear things up let me start with a simple task. Given a list of numbers, return a list containing the squares of the original list’s numbers, You might think: <em>“Well, That’s easy!”</em> and write something as the following:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">numbers</span><span class="p">):</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>              <span class="c1"># Empty list for storing numbers </span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>        <span class="c1"># Iterate over all numbers</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">n</span><span class="p">)</span> <span class="c1"># Self-explanatory</span>
    <span class="k">return</span> <span class="n">output</span>            <span class="c1"># Look previous comment</span>
</pre></div>
<p>Now if we run it..</p>
<div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="n">square</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="c1"># Output: [1, 4, 9, 16, 25, 36, 49]</span>
</pre></div>
<p>It works as expected; however, It took around 7 lines to implement and execute, and since Python is built for simplicity, we’ve got a more <em>Pythonic</em> way to do this.</p>
<h2>The One Liner</h2>
<div class="highlight"><pre><span></span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">]</span>
<span class="c1"># Output: [1, 4, 9, 16, 25, 36, 49]</span>
</pre></div>
<p>Magnificent, right? This is one of the simplest forms of a Python list comprehension, we iterate over each element in the list: <code>for x in numbers</code>, then apply some operations on element <code>x</code> and in our case we used <code>x * x</code> to get the square and finally we placed the whole expression inside square brackets <code>[]</code> to indicate that we want the final output in the form of a <em>List</em>. and all of this in just one line.</p>
<p>Let’s get a bit more advanced, we can apply our comprehension selectively, ignoring all even numbers for example:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">numbers</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">49</span><span class="p">]</span>
</pre></div>
<p>This one is exactly like the previous one except for a little addition. We iterated over the elements in a list: <code>for x in numbers</code> and we applied a specific operation to that <code>x</code> every iteration which is <code>x * x</code>; however, we told Python to do that only if a specific condition is met which is <code>x % 2 != 0</code> which translate to <em>if x is not even</em> in simple English, What I like most about this is how natural it is written, You don’t need much to get used to it, since it is written in logical order. That last sentence can be translated like this: <em>Give me the square of “x” for every “x” in this list of numbers only if that “x” is not even.</em> How much closer to English can this get? Finally, I would like to show you a 2 more examples of Python comprehensions.</p>
<p>You can use the exact same syntax as so:</p>
<div class="highlight"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'apple'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'sandwich'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s1">'almond'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">shopping_cart</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span> <span class="s1">'almond'</span><span class="p">,</span> <span class="s1">'apple'</span><span class="p">,</span> <span class="s1">'sandwich'</span><span class="p">]</span>
<span class="n">total_cost</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">shopping_cart</span><span class="p">])</span>
<span class="c1"># Output: 28</span>
</pre></div>
<p>We can even apply the exact same syntax with dictionaries, with <code>key:value</code> pairs as follows:</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">5</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)}</span>
<span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
</pre></div>
<p>and there we go, we’ve created a <em>Dictionary Comprehension!</em></p>
<h2>Conclusion</h2>
<p>Python Comprehensions are extremely powerful tool, easy to read syntax and I find myself using it alot, one practical example is scanning a list of employees, and updating the salary of each employee in a specific team by a percentage of his current salary, in just one line.</p>
<p>That’s it for this post, hopefully you found it useful, just keep practicing and whenever you are solving any problem, think if there is a possibility that your problem can be solved using list comprehensions, that way you can adopt it and integrate into your current Python weapons. Peace.</p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Python List&nbsp;Comprehensions!&amp;url=../../blog/python-list-comprehensions/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=../../blog/python-list-comprehensions/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=../../blog/python-list-comprehensions/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="../../tag/python.html">python</a><a href="../../tag/tips.html">tips</a>                </aside>

                <div class="clear"></div>

                <aside class="post-author">


                        <figure class="post-author-avatar">
                            <img src="../..//images/avatar.png" alt="Adham Elmosalamy" />
                        </figure>
                    <div class="post-author-bio">
                        <h4 class="post-author-name"><a href="../../author/adham-elmosalamy.html">Adham Elmosalamy</a></h4>
                            <p class="post-author-about">I like reading, mathematics, coding and teaching stuff.</p>
                            <span class="post-author-location"><i class="ic ic-location"></i> Alexandria</span>
                        <!-- Social linkes in alphabet order. -->
                            <span class="post-author-github"><a target="_blank" href="https://github.com/aelmosalamy"><i class="ic ic-link"></i> GitHub</a></span>
                            <span class="post-author-twitter"><a target="_blank" href="https://twitter.com/aelmosalamy_"><i class="ic ic-twitter"></i> Twitter</a></span>
                    </div>
                    <div class="clear"></div>
                </aside>

                </section>

                <script type="text/javascript">
                    var disqus = 'aelmosalamy-github-io';
                    var disqus_shortname = 'aelmosalamy-github-io';
                    var disqus_identifier = '/blog/python-list-comprehensions/';
                    var disqus_url = '../../blog/python-list-comprehensions/';
                </script>
                <noscript>Please enable JavaScript to view the comments.</noscript>
                <section class="post-comments">
                        <a id="show-disqus" class="post-comments-activate" data-disqus-identifier="/blog/python-list-comprehensions/" >Show Comments</a>
                    <div id="disqus_thread"></div>
                </section>

                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">
          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="../../theme/js/script.js"></script>

<script type="text/javascript">
    var disqus_shortname = 'aelmosalamy-github-io';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
  <!-- Here we load the scripts responsible for the beautiful Colorbox -->
  <script src="../../theme/js/jquery.min.js"></script>
  <!-- Make sure jquery is loaded first, then load colorbox -->
  <script src="../../theme/js/jquery.colorbox.js"></script>
  <script src="../../theme/js/load-colorbox.js"></script>
</body>
</html>